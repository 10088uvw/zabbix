zabbix_export:
  version: '6.0'
  date: '2022-04-07T16:24:25Z'
  groups:
    -
      uuid: 748ad4d098d447d492bb935c907f652f
      name: Templates/Databases
  templates:
    -
      uuid: 36116d8675da47b8a678193969d5a787
      template: 'CockroachDB node by HTTP'
      name: 'CockroachDB node by HTTP'
      description: |
        Get CockroachDB node metrics from Prometheus endpoint by HTTP agent.
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback
        
        Template tooling version used: 0.41
      groups:
        -
          name: Templates/Databases
      items:
        -
          uuid: fd14907e143941c1980c6417124b5b0c
          name: 'CockroachDB node: Batches'
          type: DEPENDENT
          key: cockroachdb.node.batches
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of batches processed per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - distsender_batches
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: batches
        -
          uuid: cf86a856c8af4710a6c44ec477f5ee36
          name: 'CockroachDB node: Partial batches'
          type: DEPENDENT
          key: cockroachdb.node.batches.partial
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of partial batches processed per second after being divided on range boundaries.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - distsender_batches_partial
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: batches
        -
          uuid: 57c782ec00a7491cb570785ec6687828
          name: 'CockroachDB node: Changefeed emmited messages'
          type: DEPENDENT
          key: cockroachdb.node.changefeed.emmited_messages
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Messages emitted by all feeds.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - changefeed_emitted_messages
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: changefeeds
        -
          uuid: 5c5ed28b135743c4b4a0c48935b8df2f
          name: 'CockroachDB node: Changefeed flushes'
          type: DEPENDENT
          key: cockroachdb.node.changefeed.flushes
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Total flushes across all feeds.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - changefeed_flushes
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: changefeeds
        -
          uuid: a020c75ebc8f4dc19aa1d259a93595d5
          name: 'CockroachDB node: Max changefeed latency'
          type: DEPENDENT
          key: cockroachdb.node.changefeed.latency_max
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Largest commit-to-emit duration of any running feed.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - changefeed_max_behind_nanos
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: changefeeds
        -
          uuid: 83837823d73a4170b58c6afb59f2f0c0
          name: 'CockroachDB node: Changefeed restarts'
          type: DEPENDENT
          key: cockroachdb.node.changefeed.restarts
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of changefeed jobs which failed with a retriable error.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - jobs_changefeed_resume_retry_error
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: changefeeds
        -
          uuid: 98c6a991aec046d28d62ab4bc63ed7b8
          name: 'CockroachDB node: Sink byte traffic'
          type: DEPENDENT
          key: cockroachdb.node.changefeed.sink_bytes
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Bytes emitted by all feeds.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - changefeed_emitted_bytes
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: changefeed
        -
          uuid: 156d0c66c25a4938b87bd4527580cfd4
          name: 'CockroachDB node: Clock offset'
          type: DEPENDENT
          key: cockroachdb.node.clock.offset
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Mean clock offset of the node against the rest of the cluster.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - clock_offset_meannanos
                - value
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: system
        -
          uuid: 52101674ecb84eeb8ddadfa0a29616ec
          name: 'CockroachDB node: Compactions'
          type: DEPENDENT
          key: cockroachdb.node.compactions
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of compactions per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'rocksdb_compactions{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 7b6ef56741c14222bef3d40af3bb6b44
          name: 'CockroachDB node: System CPU time'
          type: DEPENDENT
          key: cockroachdb.node.cpu.system_time
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'System CPU time.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_cpu_sys_ns
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: cpu
        -
          uuid: 42008c218c0b4049a4e94daf40754dd7
          name: 'CockroachDB node: User CPU time'
          type: DEPENDENT
          key: cockroachdb.node.cpu.user_time
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'User CPU time.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_cpu_user_ns
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: cpu
        -
          uuid: b13dceebd399415f868c3f1ce68ee46a
          name: 'CockroachDB node: CPU utilization'
          type: DEPENDENT
          key: cockroachdb.node.cpu.util
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'CPU utilization in %'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_cpu_combined_percent_normalized
                - value
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '100'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: cpu
        -
          uuid: e186df881d6e40ac966e23341b2dbd36
          name: 'CockroachDB node: File descriptors limit'
          type: DEPENDENT
          key: cockroachdb.node.descriptors.limit
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The file descriptor limit.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_fd_softlimit
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: e21fd3d697294d0f93b504ba57e7552e
          name: 'CockroachDB node: Open file descriptors'
          type: DEPENDENT
          key: cockroachdb.node.descriptors.open
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of open file descriptors.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_fd_open
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: bbf0f281f3aa4964829ed2213db5dfc7
          name: 'CockroachDB node: Live bytes'
          type: DEPENDENT
          key: cockroachdb.node.disk.bytes.live
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Number of logical bytes stored in live key-value pairs (https://www.cockroachlabs.com/docs/v21.1/architecture/distribution-layer.html#table-data) on this node. Live data excludes historical and deleted data.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'livebytes{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 232970f8bf12412e8a6bd96978a7ad5f
          name: 'CockroachDB node: Logical bytes'
          type: DEPENDENT
          key: cockroachdb.node.disk.bytes.logical
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Number of logical bytes stored in key-value pairs (https://www.cockroachlabs.com/docs/v21.1/architecture/distribution-layer.html#table-data) on this node. This includes historical and deleted data.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'totalbytes{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 58d6f4d3c9ff41cab05697e7c59cf8e2
          name: 'CockroachDB node: System bytes'
          type: DEPENDENT
          key: cockroachdb.node.disk.bytes.system
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Number of physical bytes stored in system key-value pairs (https://www.cockroachlabs.com/docs/v21.1/architecture/distribution-layer.html#table-data).'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'sysbytes{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 01c02c5a9c174cd2b958634da07824e5
          name: 'CockroachDB node: Available disk capacity'
          type: DEPENDENT
          key: cockroachdb.node.disk.capacity.available
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Available disk capacity.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'capacity_available{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 35ce626304fb4d39bd382161cb052346
          name: 'CockroachDB node: Maximum disk capacity'
          type: DEPENDENT
          key: cockroachdb.node.disk.capacity.max
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Maximum store size across all nodes. This value may be explicitly set per node using --store (https://www.cockroachlabs.com/docs/v21.1/cockroach-start.html#store). If a store size has not been set, this metric displays the actual disk capacity.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'capacity{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: bb07359b779d4e4080593a02c18dc8c1
          name: 'CockroachDB node: Disk capacity usage'
          type: CALCULATED
          key: cockroachdb.node.disk.capacity.usage
          history: 7d
          value_type: FLOAT
          units: '%'
          params: last(//cockroachdb.node.disk.capacity.used)/last(//cockroachdb.node.disk.capacity.available)
          description: 'Disk space in use in percent.'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '100'
          tags:
            -
              tag: component
              value: storage
          triggers:
            -
              uuid: a58b694f4cf642228ec0633f0efb04a7
              expression: 'last(/CockroachDB node by HTTP/cockroachdb.node.disk.capacity.usage)>{$COCKROACHDB.DISK.USED.WARN}'
              name: 'CockroachDB node: Disk capacity usage has reached threshold'
              event_name: 'CockroachDB node: Disk capacity usage has reached threshold ({$COCKROACHDB.DISK.USED.WARN}%)'
              priority: WARNING
              description: 'Node is running low on free space available (used more than {$COCKROACHDB.DISK.USED.WARN}%)'
              tags:
                -
                  tag: scope
                  value: capacity
        -
          uuid: b6db680d16bc41408d13f7275c603fca
          name: 'CockroachDB node: Used disk capacity'
          type: DEPENDENT
          key: cockroachdb.node.disk.capacity.used
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Disk space in use by CockroachDB data on this node. This excludes the Cockroach binary, operating system, and other system files.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'capacity_used{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 4525de4ee6994c34af6ea3444295bd58
          name: 'CockroachDB node: Disk operations in progress'
          type: DEPENDENT
          key: cockroachdb.node.disk.iops.in_progress
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of disk IOPS in progress.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_host_disk_iopsinprogress
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 1240655e000643c98694a5efbb0582d0
          name: 'CockroachDB node: Disk read IOPS'
          type: DEPENDENT
          key: cockroachdb.node.disk.read.iops
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of disk read operations per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_host_disk_read_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: e226b55a125d4360b853690dbd0d9b63
          name: 'CockroachDB node: Disk read rate'
          type: DEPENDENT
          key: cockroachdb.node.disk.read.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Disk read rate.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_host_disk_read_bytes
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: cfa381c7317d479ea5e24b0a3ac9de6a
          name: 'CockroachDB node: Disk write IOPS'
          type: DEPENDENT
          key: cockroachdb.node.disk.write.iops
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of disk write operations per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_host_disk_write_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 327d62286a5c40d49690b89b12350c31
          name: 'CockroachDB node: Disk write rate'
          type: DEPENDENT
          key: cockroachdb.node.disk.write.rate
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Disk write rate.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_host_disk_write_bytes
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 10dff994b6f6433a97e92dbfa08c158b
          name: 'CockroachDB node: Write stalls'
          type: DEPENDENT
          key: cockroachdb.node.disk.write.stalls
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of instances of intentional write stalls to backpressure incoming writes.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'storage_write_stalls{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 589c8dca353940a19c42afe5093ff73d
          name: 'CockroachDB node: Flushes'
          type: DEPENDENT
          key: cockroachdb.node.flushes
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of memtable flushes per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'rocksdb_flushes{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 976e8f8ab6ea43a39e404c5c1ea6ec68
          name: 'CockroachDB node: GC queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.gc.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the GC queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_gc_pending{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: gc
            -
              tag: component
              value: queues
        -
          uuid: eccb61f8dfb741c88e49cb4a46749998
          name: 'CockroachDB node: GC queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.gc.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the GC queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_gc_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: gc
            -
              tag: component
              value: queues
        -
          uuid: 8092c82f81824a168328a438d85a0a93
          name: 'CockroachDB node: GC pause time'
          type: DEPENDENT
          key: cockroachdb.node.gc.pause_time
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'The amount of processor time used by Go''s garbage collector per second across all nodes. During garbage collection, application code execution is paused.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_gc_pause_ns
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: gc
        -
          uuid: 72298c0f0a00460e85562d13e3baf4b0
          name: 'CockroachDB node: GC runs'
          type: DEPENDENT
          key: cockroachdb.node.gc.runs
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of times that Go''s garbage collector was invoked per second across all nodes.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_gc_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: gc
        -
          uuid: a8cd030e869b4d788126ee5fa35d3403
          name: 'CockroachDB node: Get node health endpoint'
          type: HTTP_AGENT
          key: cockroachdb.node.get_health
          history: 7d
          description: 'Get node /health endpoint'
          valuemap:
            name: 'Node state'
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - |
                  if (!Object.keys(JSON.parse(value)).length){
                      return 1;
                  }
                  else return 0;
          timeout: 15s
          url: '{$COCKROACHDB.API.SCHEME}://{HOST.CONN}:{$COCKROACHDB.API.PORT}/health'
          tags:
            -
              tag: component
              value: raw
          triggers:
            -
              uuid: 651aec60e03349468cf3ead0372bd9c2
              expression: 'nodata(/CockroachDB node by HTTP/cockroachdb.node.get_health,5m)=1'
              name: 'CockroachDB node: Failed to fetch node health data'
              event_name: 'CockroachDB node: Failed to fetch node health data (or no data for 5m)'
              priority: AVERAGE
              description: 'Zabbix has not received /health endpoint data for the last 5 minutes.'
              dependencies:
                -
                  name: 'CockroachDB node: Service is down'
                  expression: 'last(/CockroachDB node by HTTP/net.tcp.service["{$COCKROACHDB.API.SCHEME}","{HOST.CONN}","{$COCKROACHDB.API.PORT}"])=0'
              tags:
                -
                  tag: scope
                  value: availability
            -
              uuid: 7588576089144e21ab2fb83b2d31b04b
              expression: 'last(/CockroachDB node by HTTP/cockroachdb.node.get_health)=0'
              name: 'CockroachDB node: Node is unhealthy'
              priority: AVERAGE
              description: 'Node''s /health endpoint has returned the result which is not empty.'
              dependencies:
                -
                  name: 'CockroachDB node: Service is down'
                  expression: 'last(/CockroachDB node by HTTP/net.tcp.service["{$COCKROACHDB.API.SCHEME}","{HOST.CONN}","{$COCKROACHDB.API.PORT}"])=0'
              tags:
                -
                  tag: scope
                  value: health
        -
          uuid: 926415babea74e2f951a0420bbdf1d8d
          name: 'CockroachDB node: Get node metrics'
          type: HTTP_AGENT
          key: cockroachdb.node.get_metrics
          history: 1h
          trends: '0'
          value_type: TEXT
          description: 'Get raw metrics from the Prometheus endpoint.'
          timeout: 15s
          url: '{$COCKROACHDB.API.SCHEME}://{HOST.CONN}:{$COCKROACHDB.API.PORT}/_status/vars'
          tags:
            -
              tag: component
              value: raw
          triggers:
            -
              uuid: aca848b0ed674823b5f3ee7e15892a71
              expression: 'nodata(/CockroachDB node by HTTP/cockroachdb.node.get_metrics,5m)=1'
              name: 'CockroachDB node: Failed to fetch node data'
              event_name: 'CockroachDB node: Failed to fetch node data (or no data for 5m)'
              priority: AVERAGE
              description: 'Zabbix has not received data for items for the last 5 minutes.'
              dependencies:
                -
                  name: 'CockroachDB node: Service is down'
                  expression: 'last(/CockroachDB node by HTTP/net.tcp.service["{$COCKROACHDB.API.SCHEME}","{HOST.CONN}","{$COCKROACHDB.API.PORT}"])=0'
              tags:
                -
                  tag: scope
                  value: availability
        -
          uuid: 3e5e18e02b1b4f8d8f17c2e7d993169c
          name: 'CockroachDB node: Get node readiness'
          type: HTTP_AGENT
          key: cockroachdb.node.get_readiness
          history: 7d
          description: 'Get node /health?ready=1 endpoint'
          valuemap:
            name: 'Node readiness'
          preprocessing:
            -
              type: JAVASCRIPT
              parameters:
                - |
                  if (!Object.keys(JSON.parse(value)).length){
                      return 1;
                  }
                  else return 0;
          timeout: 15s
          url: '{$COCKROACHDB.API.SCHEME}://{HOST.CONN}:{$COCKROACHDB.API.PORT}/health?ready=1'
          tags:
            -
              tag: component
              value: raw
          triggers:
            -
              uuid: f586d8b8ef654fe39264343c99fff73f
              expression: 'nodata(/CockroachDB node by HTTP/cockroachdb.node.get_readiness,5m)=1'
              name: 'CockroachDB node: Failed to fetch node readiness data'
              event_name: 'CockroachDB node: Failed to fetch node readiness data (or no data for 5m)'
              priority: AVERAGE
              description: 'Zabbix has not received /health?ready=1 endpoint data for the last 5 minutes.'
              dependencies:
                -
                  name: 'CockroachDB node: Service is down'
                  expression: 'last(/CockroachDB node by HTTP/net.tcp.service["{$COCKROACHDB.API.SCHEME}","{HOST.CONN}","{$COCKROACHDB.API.PORT}"])=0'
              tags:
                -
                  tag: scope
                  value: availability
            -
              uuid: 274dd1510e3840698ca5292c56fa9649
              expression: 'last(/CockroachDB node by HTTP/cockroachdb.node.get_readiness)=0'
              name: 'CockroachDB node: Node is not ready'
              priority: AVERAGE
              description: 'Node''s /health?ready=1 endpoint has returned the result which is not empty.'
              dependencies:
                -
                  name: 'CockroachDB node: Service is down'
                  expression: 'last(/CockroachDB node by HTTP/net.tcp.service["{$COCKROACHDB.API.SCHEME}","{HOST.CONN}","{$COCKROACHDB.API.PORT}"])=0'
              tags:
                -
                  tag: scope
                  value: health
        -
          uuid: a36bcb9217054c1db2e67c8533842d01
          name: 'CockroachDB node: Goroutine count'
          type: DEPENDENT
          key: cockroachdb.node.goroutines.count
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of Goroutines across all nodes. This count should rise and fall based on load.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_goroutines
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: goroutines
        -
          uuid: f21271b3fde6441a8bc0719d5096c780
          name: 'CockroachDB node: Runnable Goroutines per CPU'
          type: DEPENDENT
          key: cockroachdb.node.goroutines.runnable
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of Goroutines waiting for CPU. This count should rise and fall based on load.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_runnable_goroutines_per_cpu
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: goroutines
        -
          uuid: 872eaa89c9e34c358f60b845316a22c0
          name: 'CockroachDB node: Live nodes count'
          type: DEPENDENT
          key: cockroachdb.node.live_count
          delay: '0'
          history: 7d
          description: 'The number of live nodes in the cluster.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - liveness_livenodes
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: system
        -
          uuid: 5a8bf48e85b845bf83346491ccf5cfac
          name: 'CockroachDB node: Memory allocated by CGo'
          type: DEPENDENT
          key: cockroachdb.node.memory.cgo.allocated
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Memory allocated by the C layer.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_cgo_allocbytes
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: memory
        -
          uuid: 07dc780b07ee4a34abd9bc658416f507
          name: 'CockroachDB node: Memory managed by CGo'
          type: DEPENDENT
          key: cockroachdb.node.memory.cgo.managed
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Total memory managed by the C layer.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_cgo_totalbytes
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: memory
        -
          uuid: af45fdeea2ff4b7ba2d488b704966f16
          name: 'CockroachDB node: Memory allocated by Go'
          type: DEPENDENT
          key: cockroachdb.node.memory.go.allocated
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Memory allocated by the Go layer.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_go_allocbytes
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: memory
        -
          uuid: 74669e09ce86441d877de519c86b3f83
          name: 'CockroachDB node: Memory managed by Go'
          type: DEPENDENT
          key: cockroachdb.node.memory.go.managed
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Total memory managed by the Go layer.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_go_totalbytes
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: memory
        -
          uuid: c10b66dd872145528540e90ad3198b81
          name: 'CockroachDB node: Total memory usage'
          type: DEPENDENT
          key: cockroachdb.node.memory.total
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Resident set size (RSS) of memory in use by the node.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_rss
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: memory
        -
          uuid: aee505389afb4fb0a4a7d8b8dd58fe76
          name: 'CockroachDB node: Network bytes received'
          type: DEPENDENT
          key: cockroachdb.node.network.bytes.received
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Amount of incoming network traffic per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_host_net_recv_bytes
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: network
        -
          uuid: 9b04fac1a84e40aa833366fda679a3e3
          name: 'CockroachDB node: Network bytes sent'
          type: DEPENDENT
          key: cockroachdb.node.network.bytes.sent
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Amount of outgoing network traffic per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_host_net_send_bytes
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: network
        -
          uuid: d0b45b5a00d64c39bce2117fdb35d373
          name: 'CockroachDB node: Average queries'
          type: DEPENDENT
          key: cockroachdb.node.queries.average
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Exponentially weighted moving average of the number of KV batch requests processed by leaseholder replicas on each store per second. Tracks roughly the last 30 minutes of requests. Used for load-based rebalancing decisions.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'rebalancing_queriespersecond{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queries
        -
          uuid: 431f659cbfcf443ebd8d2f72bd532fc6
          name: 'CockroachDB node: Consistency checker queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.consistency_checker.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the consistency checker queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_consistency_pending{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 1dd7f2f5131848ceafdeb3f77682666c
          name: 'CockroachDB node: Consistency checker queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.consistency_checker.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the consistency checker queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_consistency_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 756649623b6346e9a6adc0bb266ef0a0
          name: 'CockroachDB node: Merge queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.merge.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the merge queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_merge_pending{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: eb9dd18925ac417885252ca7f49b4dbf
          name: 'CockroachDB node: Merge queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.merge.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the merge queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_merge_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: a12e4937d2c44eacada535774e74653a
          name: 'CockroachDB node: Queue processing failures (consistency)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.consistency
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the consistency checker queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_consistency_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 5d328a66855d4cbba099713befd4d240
          name: 'CockroachDB node: Queue processing failures (GC)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.gc
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the GC queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_gc_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: b71cc221443b42888d64dea02e75d3f9
          name: 'CockroachDB node: Queue processing failures (replica GC)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.gc_replica
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the replica GC queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicagc_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: eabbf198e158428aaf9b15f491dd0895
          name: 'CockroachDB node: Queue processing failures (Raft log)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.raftlog
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the Raft log queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftlog_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: 2369ad2e98c84d2a83b64f3b1fce826e
          name: 'CockroachDB node: Queue processing failures (Raft snapshot)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.raftsnapshot
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the Raft repair queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftsnapshot_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: 604df422fb084fba8480758e30fc81f3
          name: 'CockroachDB node: Queue processing failures (replicate)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.replicate
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the replicate queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 40e94d8e2cc54c7b9c0a6c4d7c8dc308
          name: 'CockroachDB node: Queue processing failures (split)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.split
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the split queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_split_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: ceb47605bc364044993e59430f37a07c
          name: 'CockroachDB node: Queue processing failures (time series maintenance)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_failures.tsmaintenance
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas which failed processing in the time series maintenance queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_tsmaintenance_process_failure{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: fe144f95330749fb842e63d5468a773d
          name: 'CockroachDB node: Queue processing time (consistency)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.consistency
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the consistency checker queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_consistency_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 7c169dee76a5490a995979fe4cc53ce3
          name: 'CockroachDB node: Queue processing time (GC)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.gc
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the GC queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_gc_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: dd97b071898d47ca926e4723c4172b6b
          name: 'CockroachDB node: Queue processing time (replica GC)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.gc_replica
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the replica GC queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicagc_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 7667e9baab29439890ca941d7e751553
          name: 'CockroachDB node: Queue processing time (Raft log)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.raftlog
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the Raft log queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftlog_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: f67f699f09714127bf20709a00b0f69d
          name: 'CockroachDB node: Queue processing time (Raft snapshot)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.raftsnapshot
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the Raft repair queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftsnapshot_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: 711fd2f7d5b049799f1cac8063a74d7c
          name: 'CockroachDB node: Queue processing time (replicate)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.replicate
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the replicate queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 329c8ba552824636894e5fbd4738e9d3
          name: 'CockroachDB node: Queue processing time (split)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.split
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the split queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_split_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 2b8955efbe974611911bf6e49548c40e
          name: 'CockroachDB node: Queue processing time (time series maintenance)'
          type: DEPENDENT
          key: cockroachdb.node.queue.processing_time.tsmaintenance
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Time spent processing replicas in the time series maintenance queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_tsmaintenance_processingnanos{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
            -
              type: MULTIPLIER
              parameters:
                - '0.000000001'
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: f2078dbedbed48c693fb329fa3c75910
          name: 'CockroachDB node: Raft leaders'
          type: DEPENDENT
          key: cockroachdb.node.queue.raft.leaders
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of raft leaders.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'replicas_leaders{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: c72d255a4f724f0ba21b65dfc08d1efe
          name: 'CockroachDB node: Raft log queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.raftlog.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the Raft log queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftlog_pending{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: 0b019a92c2f04f7893bdccfff66690ef
          name: 'CockroachDB node: Raft log queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.raftlog.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the Raft log queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftlog_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: e2ca700733aa4f77b31dde87ac24fc93
          name: 'CockroachDB node: Raft snapshot queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.raftsnapshot.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the Raft repair queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftsnapshot_pending{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: 8f685cb25b7545219fcd2165716334fc
          name: 'CockroachDB node: Raft snapshot queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.raftsnapshot.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the Raft repair queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_raftsnapshot_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
            -
              tag: component
              value: raft
        -
          uuid: f00c6c6a5abb47d0b0cdd6be61860d07
          name: 'CockroachDB node: Split queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.split.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the split queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_split_pending{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: e799a4a007e54d16a33e1fa5214f851f
          name: 'CockroachDB node: Split queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.queue.split.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the split queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_split_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 4ed616f13c9d4669879aa8bdad35a06a
          name: 'CockroachDB node: Ranges'
          type: DEPENDENT
          key: cockroachdb.node.ranges
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of ranges.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'ranges{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: 6c5d05b36101498b871a313b5f8d6142
          name: 'CockroachDB node: Range additions'
          type: DEPENDENT
          key: cockroachdb.node.ranges.additions
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of range additions.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_adds{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: 848cb9ca8a9448979c3535b47eff2770
          name: 'CockroachDB node: Range merges'
          type: DEPENDENT
          key: cockroachdb.node.ranges.merges
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of range merges.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_merges{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: 9bb3c4b6aea343cca5805c11100769b4
          name: 'CockroachDB node: Ranges over-replicated'
          type: DEPENDENT
          key: cockroachdb.node.ranges.overreplicated
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of ranges with more live replicas than the replication target.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'ranges_overreplicated{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: 352b98e54ba24681a305f44937163d9d
          name: 'CockroachDB node: Load-based range rebalances'
          type: DEPENDENT
          key: cockroachdb.node.ranges.rebalances
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of range rebalance operations motivated by store-level load imbalances.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'rebalancing_range_rebalances{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: 70549594fdef4a0aaaf59610a1fb2438
          name: 'CockroachDB node: Range removals'
          type: DEPENDENT
          key: cockroachdb.node.ranges.removals
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of range removals.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_removes{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: bccbe68dbda5457fa391ee6b81b14f0e
          name: 'CockroachDB node: Range splits'
          type: DEPENDENT
          key: cockroachdb.node.ranges.splits
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of range splits.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_splits{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: 63e70400900a4b5caa8e89a18c83ebd7
          name: 'CockroachDB node: Ranges unavaliable'
          type: DEPENDENT
          key: cockroachdb.node.ranges.unavaliable
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of ranges with fewer live replicas than needed for quorum.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'ranges_unavailable{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: beea6adf48df454fa6628d44455ca52f
          name: 'CockroachDB node: Ranges under-replicated'
          type: DEPENDENT
          key: cockroachdb.node.ranges.underreplicated
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of ranges with fewer live replicas than the replication target.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'ranges_underreplicated{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: ranges
        -
          uuid: f4175e8984d14ad89c0bd1fce5b37372
          name: 'CockroachDB node: Read amplification'
          type: DEPENDENT
          key: cockroachdb.node.read_amp
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The average number of real read operations executed per logical read operation.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'rocksdb_read_amplification{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: efffc136756b4d4fbb866bfa20c4f11b
          name: 'CockroachDB node: Replica GC queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.replication.gc_queue.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of GC''able entries corresponding to pending txns.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_gc_info_transactionspangcpending{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 7558ef23d7594ef3a1e5e60a64763074
          name: 'CockroachDB node: Replica GC queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.replication.gc_queue.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of GC''able entries corresponding to committed txns.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_gc_info_transactionspangccommitted{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: dc330825026d4e4286e1514006a91be6
          name: 'CockroachDB node: Replication queue (replica additions)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.additions
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replica additions attempted by the replicate queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_addreplica{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 5b4328ddd06c4f089b16170261f6d224
          name: 'CockroachDB node: Replication queue (dead replica removals)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.dead_removals
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of dead replica removals attempted by the replicate queue (typically in response to a node outage).'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_removedeadreplica{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: d0f57cf8da184fd593582b4c9186cf5f
          name: 'CockroachDB node: Replication queue (learner replica removals)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.learner_removals
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of learner replica removals attempted by the replicate queue (typically due to internal race conditions).'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_removelearnerreplica{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 6044ff807caf404b92bf0d48d9e0da22
          name: 'CockroachDB node: Replication queue (leases transfered)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.leases_transfered
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of range lease transfers attempted by the replicate queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_transferlease{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 8ee29d43f367412ba9c45f1fc617e311
          name: 'CockroachDB node: Replication queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the replicate queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_pending{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: c914fe2a42424105bf84c882a0cde595
          name: 'CockroachDB node: Replication queue (replicas in purgatory)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.purgatory
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas in the replicate queue''s purgatory, awaiting allocation options.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_purgatory{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 921cb400287b4562852a0de12f260d74
          name: 'CockroachDB node: Replication queue (replicas rebalanced)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.rebalanced
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replica rebalancer-initiated additions attempted by the replicate queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_rebalancereplica{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: f4afadead72e464a85bec6eefa8871d7
          name: 'CockroachDB node: Replication queue (replica removals)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.removals
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replica removals attempted by the replicate queue (typically in response to a rebalancer-initiated addition).'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_removereplica{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: f59c3f2a87cc4a60974de516ab0e3755
          name: 'CockroachDB node: Replication queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.replication.queue.replicas.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the replicate queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_replicate_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 191985a08c554160bc371f5fca638336
          name: 'CockroachDB node: Replicas'
          type: DEPENDENT
          key: cockroachdb.node.replication.replicas
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'replicas{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 089c354ee1c547808bbf8655d16d1a06
          name: 'CockroachDB node: Quiesced replicas'
          type: DEPENDENT
          key: cockroachdb.node.replication.replicas.quiesced
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of quiesced replicas.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'replicas_quiescent{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 2d28435383cb46cd820af8bb34132439
          name: 'CockroachDB node: Reserved replicas'
          type: DEPENDENT
          key: cockroachdb.node.replication.replicas.reserved
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas reserved for snapshots.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'replicas_reserved{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: ad018457c37d4c409dc7b0a057717815
          name: 'CockroachDB node: Generated snapshots'
          type: DEPENDENT
          key: cockroachdb.node.replication.snapshots.generated
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of generated snapshots.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_snapshots_generated{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: c97950e5349e4530823c68fbf82a49e2
          name: 'CockroachDB node: Applied snapshots (initial replication)'
          type: DEPENDENT
          key: cockroachdb.node.replication.snapshots.initial
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of snapshots applied for initial upreplication.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_snapshots_applied_initial{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: fc1e20d16f6844f880d04dc12e07c7ca
          name: 'CockroachDB node: Applied snapshots (non-voters)'
          type: DEPENDENT
          key: cockroachdb.node.replication.snapshots.nonvoters
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of snapshots applied by non-voter replicas.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_snapshots_applied_non_voter{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 87d3f75b3ec9427a88f5a9a6c87423e4
          name: 'CockroachDB node: Applied snapshots (voters)'
          type: DEPENDENT
          key: cockroachdb.node.replication.snapshots.voters
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of snapshots applied by voter replicas.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'range_snapshots_applied_voter{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: replication
        -
          uuid: 88458c240f1f41b2b273e21c6e3bbbef
          name: 'CockroachDB node: RPCs errors'
          type: DEPENDENT
          key: cockroachdb.node.rpc.errors
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of RPCs sent per second due to per-replica errors.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - distsender_rpc_sent_nextreplicaerror
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: rpc
        -
          uuid: 3f6cf95cb99146acac8e1d6c99ad8468
          name: 'CockroachDB node: RPCs sent'
          type: DEPENDENT
          key: cockroachdb.node.rpc.sent
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of RPCs sent per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - distsender_rpc_sent
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: rpc
        -
          uuid: 565a33477fcd4d828c4fd76f994e7fb2
          name: 'CockroachDB node: Local RPCs sent'
          type: DEPENDENT
          key: cockroachdb.node.rpc.sent.local
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of local RPCs sent per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - distsender_rpc_sent_local
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: rpc
        -
          uuid: 5b96333392ac4e678204d048b4940135
          name: 'CockroachDB node: Sample errors'
          type: DEPENDENT
          key: cockroachdb.node.samples.errors
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of errors attempting to write time series, per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - timeseries_write_errors
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: samples
        -
          uuid: 444fbc4df9c64e92bd3f41022539a940
          name: 'CockroachDB node: Samples written'
          type: DEPENDENT
          key: cockroachdb.node.samples.written
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of successfully written time series samples per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - timeseries_write_samples
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: samples
        -
          uuid: 6e826e48da5844468ba8d14ae0f1acc4
          name: 'CockroachDB node: Slow latch acquisitions'
          type: DEPENDENT
          key: cockroachdb.node.slow_requests.latch_acquisitions
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of requests that have been stuck for a long time acquiring latches.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'requests_slow_latch{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: 'slow requests'
        -
          uuid: 0cc9c428567a47c6adb41d137965a362
          name: 'CockroachDB node: Slow lease acquisitions'
          type: DEPENDENT
          key: cockroachdb.node.slow_requests.lease_acquisitions
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of requests that have been stuck for a long time acquiring a lease.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'requests_slow_lease{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: 'slow requests'
        -
          uuid: 11c9e0dea4ec48a69ff3961aa6d1f910
          name: 'CockroachDB node: Slow raft proposals'
          type: DEPENDENT
          key: cockroachdb.node.slow_requests.raft_proposals
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of requests that have been stuck for a long time in raft.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'requests_slow_raft{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: 'slow requests'
        -
          uuid: 717ef9bbc00c46a09b28811910c4163a
          name: 'CockroachDB node: Slow DistSender RPCs'
          type: DEPENDENT
          key: cockroachdb.node.slow_requests.rpc
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of RPCs stuck or retrying for a long time'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - requests_slow_distsender
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: 'slow requests'
        -
          uuid: dafcd171e5eb4a56ac6537cb4ae15071
          name: 'CockroachDB node: SQL bytes received'
          type: DEPENDENT
          key: cockroachdb.node.sql.bytes.received
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'The total amount of incoming SQL client network traffic in bytes per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_bytesin
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 2795f530365d4f80866926f49a3841df
          name: 'CockroachDB node: SQL bytes sent'
          type: DEPENDENT
          key: cockroachdb.node.sql.bytes.sent
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'The total amount of outgoing SQL client network traffic in bytes per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_bytesout
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 14524b3f8c5f4d509d15063af19c9569
          name: 'CockroachDB node: SQL memory'
          type: DEPENDENT
          key: cockroachdb.node.sql.memory
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'The current amount of allocated SQL memory. This amount is what is compared against the node''s --max-sql-memory flag.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_mem_root_current
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 655018f6a2b7480a883c08ffd8c3c5e7
          name: 'CockroachDB node: Schema changes'
          type: DEPENDENT
          key: cockroachdb.node.sql.schema.changes
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of DDL statements per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_ddl_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 79ed7dc3660a44cc8f30822e992154b6
          name: 'CockroachDB node: Open SQL sessions'
          type: DEPENDENT
          key: cockroachdb.node.sql.sessions
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of open SQL sessions.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_conns
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 3c9fb90492e44789ba9a899d03546b6d
          name: 'CockroachDB node: SQL statements'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of SQL queries executed.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_query_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: d4164a9763b34976ba8f89a49e9aaf25
          name: 'CockroachDB node: Active SQL statements'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.active
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of SQL statements currently running.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_distsql_queries_active
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: af5e42e7f06c48eba936faf084365c3b
          name: 'CockroachDB node: SQL statement contention'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.contention
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of SQL statements that experienced contention.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_distsql_contended_queries_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 80b08a576e334963a17e37a5c2305214
          name: 'CockroachDB node: SQL DELETE statements'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.delete
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'A moving average of the number of DELETE statements successfully executed per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_delete_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 68532afbcda644f1928203c013335f2a
          name: 'CockroachDB node: Statement denials'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.denials
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of statements denied per second due to a cluster setting (https://www.cockroachlabs.com/docs/v21.1/cluster-settings.html) in the format feature.statement_type.enabled = FALSE.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_feature_flag_denial
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: dc93958dabdc439f8a7ad9c5a12fddcd
          name: 'CockroachDB node: SQL statement errors'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.errors
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of statements which returned a planning or runtime error.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_failure_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: ae83868ea1194089a65b9c3bfb81ef27
          name: 'CockroachDB node: Active flows for distributed SQL statements'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.flows.active
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of flows on the node contributing to currently running distributed SQL statements.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_distsql_flows_active
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: b9c72429c3264119af27e3b4d1c7486a
          name: 'CockroachDB node: SQL INSERT statements'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.insert
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'A moving average of the number of INSERT statements successfully executed per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_insert_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: d6fc464f4e784569911880f52020d08d
          name: 'CockroachDB node: SQL SELECT statements'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.select
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'A moving average of the number of SELECT statements successfully executed per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_select_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 8832cd69551a4ad084c283fb076a17b6
          name: 'CockroachDB node: SQL UPDATE statements'
          type: DEPENDENT
          key: cockroachdb.node.sql.statements.update
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'A moving average of the number of UPDATE statements successfully executed per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_update_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 6e2f06b2b71f447aae06940b205e22bf
          name: 'CockroachDB node: SQL transactions aborted'
          type: DEPENDENT
          key: cockroachdb.node.sql.transactions.aborted
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of aborted SQL transactions per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_txn_abort_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: d32b3f22158f4091926ebf9746439da3
          name: 'CockroachDB node: SQL transactions committed'
          type: DEPENDENT
          key: cockroachdb.node.sql.transactions.committed
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of committed SQL transactions per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_txn_commit_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: ca529d30b36e4bf591c8b5e313f9bbc0
          name: 'CockroachDB node: SQL transactions initiated'
          type: DEPENDENT
          key: cockroachdb.node.sql.transactions.initiated
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of initiated SQL transactions per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_txn_begin_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 6490aac99d654eebae14cedb935c8d9f
          name: 'CockroachDB node: Open SQL transactions'
          type: DEPENDENT
          key: cockroachdb.node.sql.transactions.open
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of SQL transactions currently open.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_txns_open
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: 07274667c22d4e52b50ead17c864ae36
          name: 'CockroachDB node: SQL transactions rolled back'
          type: DEPENDENT
          key: cockroachdb.node.sql.transactions.rollbacks
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The total number of rolled back SQL transactions per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sql_txn_rollback_count
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: sql
        -
          uuid: edc1e5548d9e4d629b44b067ffc666b9
          name: 'CockroachDB node: SSTables'
          type: DEPENDENT
          key: cockroachdb.node.sstables
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'The number of SSTables in use.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'rocksdb_num_sstables{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 6cdc6a44594546948ffec722d2b8bfd2
          name: 'CockroachDB node: Time series bytes written'
          type: DEPENDENT
          key: cockroachdb.node.timeseries.bytes.written
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'The number of bytes written by the time series system per second. Note that this does not reflect the rate at which disk space is consumed by time series; the data is highly compressed on disk. This rate is instead intended to indicate the amount of network traffic and disk activity generated by time series writes.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - timeseries_write_bytes
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: storage
        -
          uuid: 1a01d2c75d934f489e171a3a147a2078
          name: 'CockroachDB node: KV transactions aborted'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.aborted
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of aborted KV transactions per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_aborts
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: be9c377ac5a64579a3b849bbd28e4dc7
          name: 'CockroachDB node: KV transactions commited'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.commited
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of KV transactions (including 1PC) commited per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_commits
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: cfe8314c03f54e608f60449e6fba809c
          name: 'CockroachDB node: KV transactions commited fast-path'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.commited.fastpath
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of KV transaction one-phase commit attempts per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_commits1PC
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: 7b97912659094b33bdcb62c1ae2349ca
          name: 'CockroachDB node: KV transaction restarts (async consensus failures)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.asyncwritefailure
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to async consensus writes that failed to leave intents.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_asyncwritefailure
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: a8b01eafbb884ffd80f38b5d583f3f13
          name: 'CockroachDB node: KV transaction restarts (read within uncertainty interval)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.readwithinuncertainty
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to reading a new value within the uncertainty interval.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_readwithinuncertainty
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: 376a8c491f1a437fbe7927f1e08d63ea
          name: 'CockroachDB node: KV transaction restarts (forwarded timestamp, iso=serializable)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.serializable
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to a forwarded commit timestamp and isolation=SERIALIZABLE.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_serializable
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: 3749e30175e74ead8f3612b18812fb26
          name: 'CockroachDB node: KV transaction restarts (aborted)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.txnaborted
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to an abort by a concurrent transaction (usually due to deadlock).'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_txnaborted
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: 984b8cb5c9b44e5b826f0f051870d8b4
          name: 'CockroachDB node: KV transaction restarts (push failure)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.txnpush
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to a transaction push failure.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_txnpush
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: dff9248742c640639e8dd5a90b14c5d1
          name: 'CockroachDB node: KV transaction restarts (unknown)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.unknown
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to a unknown reasons.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_unknown
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: 6478a4221de742e5ac377874909009c8
          name: 'CockroachDB node: KV transaction restarts (write too old)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.writetooold
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to a concurrent writer committing first.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_writetooold
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: 0963b27840c04256959c42fff5758700
          name: 'CockroachDB node: KV transaction restarts (write too old, multiple)'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.kv.restarts.writetoooldmulti
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of restarts due to multiple concurrent writers committing first.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - txn_restarts_writetoooldmulti
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: transactions
        -
          uuid: 87f949f768b54ba1b648a04d86f4c4da
          name: 'CockroachDB node: Lease holders'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.leases.holders
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of lease holders.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'replicas_leaseholders{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: leases
        -
          uuid: 3826c40b585d4b398f02df89cd271645
          name: 'CockroachDB node: Leaders w/o lease'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.leases.leaders_without_lease
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas that are Raft leaders whose range lease is held by another store.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'replicas_leaders_not_leaseholders{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: leases
        -
          uuid: daa1165db11c4c288b427da807f7b9ef
          name: 'CockroachDB node: Not lease holder errors'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.leases.notleaseholder
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of NotLeaseHolderErrors encountered per second.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - distsender_errors_notleaseholder
                - value
                - ''
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: leases
        -
          uuid: 5960de259fa144d29c222d2303795737
          name: 'CockroachDB node: Lease transfers'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.leases.transfers
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of successful lease transfers.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'leases_transfers_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: leases
        -
          uuid: 2b78a691c0a64856b1a50af4969f5257
          name: 'CockroachDB node: Load-based lease transfers'
          type: DEPENDENT
          key: cockroachdb.node.transcactions.leases.transfers_rebalancing
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of lease transfers motivated by store-level load imbalances.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'rebalancing_lease_transfers{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: leases
        -
          uuid: 1fdd967480ab43949ae2c47d304f06f1
          name: 'CockroachDB node: Time series maintenance queue (pending actions)'
          type: DEPENDENT
          key: cockroachdb.node.tsmaintenance.queue.actions.pending
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of pending replicas in the time series maintenance queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_tsmaintenance_pending{store=~".*"}'
                - function
                - sum
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: 94b2c4c5fdb54891b0d4632fe0566f12
          name: 'CockroachDB node: Time series maintenance queue (successful actions)'
          type: DEPENDENT
          key: cockroachdb.node.tsmaintenance.queue.actions.successful
          delay: '0'
          history: 7d
          value_type: FLOAT
          description: 'Number of replicas successfully processed by the time series maintenance queue.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - 'queue_tsmaintenance_process_success{store=~".*"}'
                - function
                - sum
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: queues
        -
          uuid: b200e1f665ad425394e631b2844a1fdb
          name: 'CockroachDB node: Uptime'
          type: DEPENDENT
          key: cockroachdb.node.uptime
          delay: '0'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Process uptime.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - sys_uptime
                - value
                - ''
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: system
          triggers:
            -
              uuid: 83802e38f1414ca9b40e2d2df2d94941
              expression: 'last(/CockroachDB node by HTTP/cockroachdb.node.uptime)<10m'
              name: 'CockroachDB node: Node has been restarted'
              event_name: 'CockroachDB node: Node has been restarted (uptime < 10m)'
              priority: INFO
              description: 'Uptime is less than 10 minutes.'
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: d588fc919b364889abd98537dfc80575
          name: 'CockroachDB node: CockroachDB version'
          type: DEPENDENT
          key: cockroachdb.node.version
          delay: '0'
          history: 7d
          trends: '0'
          value_type: CHAR
          description: 'Build information.'
          preprocessing:
            -
              type: PROMETHEUS_PATTERN
              parameters:
                - build_timestamp
                - label
                - tag
          master_item:
            key: cockroachdb.node.get_metrics
          tags:
            -
              tag: component
              value: system
          triggers:
            -
              uuid: 620aee1613e841acb44a438b4b9b68c9
              expression: 'last(/CockroachDB node by HTTP/cockroachdb.node.version)<>last(/CockroachDB node by HTTP/cockroachdb.node.version,#2) and length(last(/CockroachDB node by HTTP/cockroachdb.node.version))>0'
              name: 'CockroachDB node: Version has changed'
              event_name: 'CockroachDB node: Version has changed (new version: {ITEM.VALUE})'
              priority: INFO
              tags:
                -
                  tag: scope
                  value: notice
        -
          uuid: 00afa7b32af9499c89e939c96e0e29d1
          name: 'CockroachDB node: Service ping'
          type: SIMPLE
          key: 'net.tcp.service["{$COCKROACHDB.API.SCHEME}","{HOST.CONN}","{$COCKROACHDB.API.PORT}"]'
          history: 7d
          valuemap:
            name: 'Service state'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 10m
          tags:
            -
              tag: component
              value: health
            -
              tag: component
              value: network
          triggers:
            -
              uuid: d3c0d0a9e1f44c95a2246ab7081f581b
              expression: 'last(/CockroachDB node by HTTP/net.tcp.service["{$COCKROACHDB.API.SCHEME}","{HOST.CONN}","{$COCKROACHDB.API.PORT}"])=0'
              name: 'CockroachDB node: Service is down'
              priority: AVERAGE
              tags:
                -
                  tag: scope
                  value: availability
      discovery_rules:
        -
          uuid: eb3f6cfcef0d401b83e2043876f3c574
          name: 'Certificates discovery'
          type: DEPENDENT
          key: cockroachdb.node.cert.discovery
          delay: '0'
          description: 'Discovery certificates expiration dates.'
          item_prototypes:
            -
              uuid: 0328c188d5954ae48dcc0649c9c01f52
              name: 'CockroachDB node: {#DESC} certificate expiration date'
              type: DEPENDENT
              key: 'cockroachdb.node.cert.expire_date[{#TYPE}]'
              delay: '0'
              history: 7d
              trends: '0'
              discover: NO_DISCOVER
              value_type: FLOAT
              units: unixtime
              description: '{#DESC} certificate expires at that date.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - '{#NAME}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: cert
              trigger_prototypes:
                -
                  uuid: 76a2093eb0214185ab8e03986f3f1474
                  expression: '(last(/CockroachDB node by HTTP/cockroachdb.node.cert.expire_date[{#TYPE}]) - now()) / 86400 < {$COCKROACHDB.CERT.EXPIRY.WARN}'
                  name: 'CockroachDB node: {#DESC} certificate expires soon'
                  event_name: 'CockroachDB node: {#DESC} certificate expires soon (less than {$COCKROACHDB.CERT.EXPIRY.WARN} days)'
                  priority: WARNING
                  description: '{#DESC} certificate expires soon.'
                  tags:
                    -
                      tag: scope
                      value: notice
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - '{__name__=~ "^security_certificate_expiration_*"}'
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.name === "security_certificate_expiration_ca"){
                          result.push({
                              '{#TYPE}': 'ca',
                              '{#NAME}': item.name,
                              '{#DESC}': 'CA'
                          });
                  
                      }
                      else if  (item.name === "security_certificate_expiration_node"){
                          result.push({
                              '{#TYPE}': 'node',
                              '{#NAME}': item.name,
                              '{#DESC}': 'Node'
                          });
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'ca cert'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: ca
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: LIKE
                  value: CA
                  status: ENABLED
                  discover: DISCOVER
            -
              name: 'node cert'
              step: '2'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: node
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: LIKE
                  value: node
                  status: ENABLED
                  discover: DISCOVER
        -
          uuid: 6bbfecf7f1294061817858f8b7381a3d
          name: 'Command commit latency buckets discovery'
          type: DEPENDENT
          key: cockroachdb.node.command.latency.buckets.discovery
          delay: '0'
          lifetime: '0'
          description: 'Discovery buckets of latency histogram for committing Raft commands.'
          item_prototypes:
            -
              uuid: b8cfc50245ec412fa0309a5a48fa43f7
              name: 'CockroachDB node: Command commit latency bucket: {#LE}'
              type: DEPENDENT
              key: 'cockroachdb.node.command.latency.bucket[{#LE}]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: FLOAT
              description: 'Raft commands commiting latency.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - 'raft_process_commandcommit_latency_bucket{le="{#LE}"}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: buckets
                -
                  tag: component
                  value: latency
          master_item:
            key: cockroachdb.node.get_metrics
          lld_macro_paths:
            -
              lld_macro: '{#LE}'
              path: $.labels.le
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - 'raft_process_commandcommit_latency_bucket{le=~".*"}'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
        -
          uuid: 6b0efcd0496b490eb1297bf283c86c7e
          name: 'Command commit latency percentile discovery'
          type: DEPENDENT
          key: cockroachdb.node.command.percentile.discovery
          delay: '0'
          description: 'Discovery percentile items of latency histogram for committing Raft commands.'
          item_prototypes:
            -
              uuid: 855d66a0187c4a9da5759567df441931
              name: 'CockroachDB node: Command commit latency, p50'
              type: CALCULATED
              key: 'cockroachdb.node.command.latency.p50[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.command.latency.bucket[*],5m,50)'
              description: 'The 50th percentile of latency of Raft commands. This measures applying a batch to the storage engine (including writes to the write-ahead log), but no fsync.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
            -
              uuid: c915759a4e4f4b49b0d94fcc2c174d1e
              name: 'CockroachDB node: Command commit latency, p99'
              type: CALCULATED
              key: 'cockroachdb.node.command.latency.p99[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.command.latency.bucket[*],5m,99)'
              description: 'The 99th percentile of latency of Raft commands. This measures applying a batch to the storage engine (including writes to the write-ahead log), but no fsync.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
          graph_prototypes:
            -
              uuid: f4abf201e0024d9980a680689818a9bc
              name: 'CockroachDB node: Command commit latency percentile {#SINGLETON}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.command.latency.p50[{#SINGLETON}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.command.latency.p99[{#SINGLETON}]'
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - raft_process_commandcommit_latency_count
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.value !== "0"){
                          result.push({
                              '{#TYPE}': 'totals',
                              '{#SINGLETON}': ''
                          });
                  
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'total item'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: totals
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: NOT_LIKE
                  value: bucket
                  status: ENABLED
                  discover: DISCOVER
        -
          uuid: a2fea8dc8cf74540b2708cb0d75d6ff5
          name: 'Node heartbeat latency buckets discovery'
          type: DEPENDENT
          key: cockroachdb.node.heartbeat.buckets.discovery
          delay: '0'
          lifetime: '0'
          description: 'Discovery buckets of node liveness heartbeat latency histogram.'
          item_prototypes:
            -
              uuid: 8a33801df484460a8ffd27c8cc831ddc
              name: 'CockroachDB node: Node heartbeat latency bucket: {#LE}'
              type: DEPENDENT
              key: 'cockroachdb.node.heartbeat.latency.bucket[{#LE}]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: FLOAT
              description: 'Node liveness heartbeat latency.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - 'liveness_heartbeatlatency_bucket{le="{#LE}"}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: buckets
                -
                  tag: component
                  value: latency
          master_item:
            key: cockroachdb.node.get_metrics
          lld_macro_paths:
            -
              lld_macro: '{#LE}'
              path: $.labels.le
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - 'liveness_heartbeatlatency_bucket{le=~".*"}'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
        -
          uuid: cd5df1598a5941418e4e1aeb1bef710d
          name: 'Node heartbeat latency percentile discovery'
          type: DEPENDENT
          key: cockroachdb.node.heartbeat.percentile.discovery
          delay: '0'
          description: 'Discovery percentile items of node liveness heartbeat latency histogram.'
          item_prototypes:
            -
              uuid: 038e38480dbe41d6a84edde290fb9f3b
              name: 'CockroachDB node: Node heartbeat latency, p90'
              type: CALCULATED
              key: 'cockroachdb.node.heartbeat.latency.p90[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.heartbeat.latency.bucket[*],5m,90)'
              description: 'The 90th percentile of latency to heartbeat a node''s internal liveness record over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
            -
              uuid: f0020a5da2ee4bc7b568899a84f073ee
              name: 'CockroachDB node: Node heartbeat latency, p99'
              type: CALCULATED
              key: 'cockroachdb.node.heartbeat.latency.p99[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.heartbeat.latency.bucket[*],5m,99)'
              description: 'The 99th percentile of latency to heartbeat a node''s internal liveness record over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
          graph_prototypes:
            -
              uuid: 4e2ea5be30b141698958feacece364db
              name: 'CockroachDB node: Node heartbeat latency percentile {#SINGLETON}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.heartbeat.latency.p90[{#SINGLETON}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.heartbeat.latency.p99[{#SINGLETON}]'
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - liveness_heartbeatlatency_count
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.value !== "0"){
                          result.push({
                              '{#TYPE}': 'totals',
                              '{#SINGLETON}': ''
                          });
                  
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'total item'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: totals
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: NOT_LIKE
                  value: bucket
                  status: ENABLED
                  discover: DISCOVER
        -
          uuid: 3cd599fa28b24e04a15727e554bf64d2
          name: 'KV transactional durations buckets discovery'
          type: DEPENDENT
          key: cockroachdb.node.kv.durations.buckets.discovery
          delay: '0'
          lifetime: '0'
          description: 'Discovery buckets of KV transaction durations.'
          item_prototypes:
            -
              uuid: 2683b75e0f9a40b0a1c6ba7027f86bdb
              name: 'CockroachDB node: KV transactional durations bucket: {#LE}'
              type: DEPENDENT
              key: 'cockroachdb.node.kv.durations.latency.bucket[{#LE}]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: FLOAT
              description: 'KV transaction durations.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - 'txn_durations_bucket{le="{#LE}"}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: buckets
                -
                  tag: component
                  value: latency
          master_item:
            key: cockroachdb.node.get_metrics
          lld_macro_paths:
            -
              lld_macro: '{#LE}'
              path: $.labels.le
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - 'txn_durations_bucket{le=~".*"}'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
        -
          uuid: 19d880e87a9449a2af0c7e1a91145955
          name: 'KV transactional durations percentile discovery'
          type: DEPENDENT
          key: cockroachdb.node.kv.durations.percentile.discovery
          delay: '0'
          description: 'Discovery percentile items of KV transaction durations.'
          item_prototypes:
            -
              uuid: 94e122a6c5d444f2a55492d27101e9de
              name: 'CockroachDB node: KV transactional durations, p90'
              type: CALCULATED
              key: 'cockroachdb.node.kv.durations.latency.p90[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.kv.durations.latency.bucket[*],5m,90)'
              description: 'The 90th percentile of transaction durations over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
            -
              uuid: 03ac43b043854478a3c1ec96f25a48c7
              name: 'CockroachDB node: KV transactional durations, p99'
              type: CALCULATED
              key: 'cockroachdb.node.kv.durations.latency.p99[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.kv.durations.latency.bucket[*],5m,99)'
              description: 'The 99th percentile of transaction durations over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
          graph_prototypes:
            -
              uuid: fd2985e25c974dc4ab8ea961b410a080
              name: 'CockroachDB node: KV transactional durations percentile {#SINGLETON}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.kv.durations.latency.p90[{#SINGLETON}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.kv.durations.latency.p99[{#SINGLETON}]'
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - txn_durations_count
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.value !== "0"){
                          result.push({
                              '{#TYPE}': 'totals',
                              '{#SINGLETON}': ''
                          });
                  
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'total item'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: totals
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: NOT_LIKE
                  value: bucket
                  status: ENABLED
                  discover: DISCOVER
        -
          uuid: 5c19753be74d40118633f84e9a53c204
          name: 'KV execution latency buckets discovery'
          type: DEPENDENT
          key: cockroachdb.node.kv.exec.latency.buckets.discovery
          delay: '0'
          lifetime: '0'
          description: 'Discovery buckets of latency histogram of batch KV requests executed on this node.'
          item_prototypes:
            -
              uuid: 5e73e53729404873aa715a3f8b2cfca0
              name: 'CockroachDB node: KV execution latency bucket: {#LE}'
              type: DEPENDENT
              key: 'cockroachdb.node.kv.exec.latency.bucket[{#LE}]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: FLOAT
              description: 'Latency of batch KV requests executed on this node.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - 'exec_latency_bucket{le="{#LE}"}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: buckets
                -
                  tag: component
                  value: latency
          master_item:
            key: cockroachdb.node.get_metrics
          lld_macro_paths:
            -
              lld_macro: '{#LE}'
              path: $.labels.le
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - 'exec_latency_bucket{le=~".*"}'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
        -
          uuid: 0bf95bb841f14ac4bfe995ebbf0bc1cd
          name: 'KV execution latency percentile discovery'
          type: DEPENDENT
          key: cockroachdb.node.kv.exec.latency.percentile.discovery
          delay: '0'
          description: 'Discovery percentile items of latency histogram of batch KV requests executed on this node.'
          item_prototypes:
            -
              uuid: 70a3e28759aa42d0ad8751ebce9152c3
              name: 'CockroachDB node: KV execution latency, p90'
              type: CALCULATED
              key: 'cockroachdb.node.kv.exec.latency.p90[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.kv.exec.latency.bucket[*],5m,90)'
              description: 'The 90th percentile of latency between query requests and responses over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
            -
              uuid: 34e9644deb044e06a0d77e30211ebdb3
              name: 'CockroachDB node: KV execution latency, p99'
              type: CALCULATED
              key: 'cockroachdb.node.kv.exec.latency.p99[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.kv.exec.latency.bucket[*],5m,99)'
              description: 'The 99th percentile of latency between query requests and responses over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
          graph_prototypes:
            -
              uuid: dfb9bb3855734fa1bbd4060965986e89
              name: 'CockroachDB node: KV execution latency percentile {#SINGLETON}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.kv.exec.latency.p90[{#SINGLETON}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.kv.exec.latency.p99[{#SINGLETON}]'
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - exec_latency_count
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.value !== "0"){
                          result.push({
                              '{#TYPE}': 'totals',
                              '{#SINGLETON}': ''
                          });
                  
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'total item'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: totals
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: NOT_LIKE
                  value: bucket
                  status: ENABLED
                  discover: DISCOVER
        -
          uuid: 64107e11ca73438f89499f20573e9c8a
          name: 'Log commit latency buckets discovery'
          type: DEPENDENT
          key: cockroachdb.node.log.buckets.discovery
          delay: '0'
          lifetime: '0'
          description: 'Discovery buckets of histogram for committing Raft log entries latency.'
          item_prototypes:
            -
              uuid: 8346a3250fe94b40a07f442650b5fb94
              name: 'CockroachDB node: Log commit latency bucket: {#LE}'
              type: DEPENDENT
              key: 'cockroachdb.node.log.latency.bucket[{#LE}]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: FLOAT
              description: 'Latency of committing Raft log entries.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - 'raft_process_logcommit_latency_bucket{le="{#LE}"}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: buckets
                -
                  tag: component
                  value: latency
          master_item:
            key: cockroachdb.node.get_metrics
          lld_macro_paths:
            -
              lld_macro: '{#LE}'
              path: $.labels.le
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - 'raft_process_logcommit_latency_bucket{le=~".*"}'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
        -
          uuid: 3229efc90a9b4033b6979e92ffb10018
          name: 'Log commit latency percentile discovery'
          type: DEPENDENT
          key: cockroachdb.node.log.percentile.discovery
          delay: '0'
          description: 'Discovery percentile items of histogram for committing Raft log entries latency.'
          item_prototypes:
            -
              uuid: dee1eef4c0a54712b879bc3457db7d7e
              name: 'CockroachDB node: Log commit latency, p50'
              type: CALCULATED
              key: 'cockroachdb.node.log.latency.p50[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.log.latency.bucket[*],5m,50)'
              description: 'The 50th percentile of latency for commits to the Raft Log. This measures essentially an fdatasync to the storage engines write-ahead log.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
            -
              uuid: ea02b559d63545faba29d4bdb16dd72f
              name: 'CockroachDB node: Log commit latency, p99'
              type: CALCULATED
              key: 'cockroachdb.node.log.latency.p99[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.log.latency.bucket[*],5m,99)'
              description: 'The 99th percentile of latency for commits to the Raft Log. This measures essentially an fdatasync to the storage engines write-ahead log.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
          graph_prototypes:
            -
              uuid: 2d89b0cc8eb8417980d067527bd3440e
              name: 'CockroachDB node: Log commit latency percentile {#SINGLETON}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.log.latency.p50[{#SINGLETON}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.log.latency.p99[{#SINGLETON}]'
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - raft_process_logcommit_latency_count
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.value !== "0"){
                          result.push({
                              '{#TYPE}': 'totals',
                              '{#SINGLETON}': ''
                          });
                  
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'total item'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: totals
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: NOT_LIKE
                  value: bucket
                  status: ENABLED
                  discover: DISCOVER
        -
          uuid: 09a863b4d86948be9ead7161bed9969f
          name: 'SQL service latency buckets discovery'
          type: DEPENDENT
          key: cockroachdb.node.sql.buckets.discovery
          delay: '0'
          lifetime: '0'
          description: 'Discovery buckets of SQL request execution latency histogram.'
          item_prototypes:
            -
              uuid: 4eade3c411aa478d85e841214fc2220d
              name: 'CockroachDB node: SQL service latency bucket: {#LE}'
              type: DEPENDENT
              key: 'cockroachdb.node.sql.latency.bucket[{#LE}]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: FLOAT
              description: 'Latency of SQL request execution.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - 'sql_service_latency_bucket{le="{#LE}"}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: buckets
                -
                  tag: component
                  value: latency
          master_item:
            key: cockroachdb.node.get_metrics
          lld_macro_paths:
            -
              lld_macro: '{#LE}'
              path: $.labels.le
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - 'sql_service_latency_bucket{le=~".*"}'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
        -
          uuid: f562e028643f4cc392358d10b1dcea93
          name: 'SQL service latency percentile discovery'
          type: DEPENDENT
          key: cockroachdb.node.sql.percentile.discovery
          delay: '0'
          description: 'Discovery percentile items of SQL request execution latency histogram.'
          item_prototypes:
            -
              uuid: fb4294efdde640b4afee37b61b14c737
              name: 'CockroachDB node: SQL service latency, p90'
              type: CALCULATED
              key: 'cockroachdb.node.sql.latency.p90[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.sql.latency.bucket[*],5m,90)'
              description: 'Over the last 5 minutes, this node executed 90% of queries within this time. This time does not include network latency between the node and client.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
            -
              uuid: 0e76366bff714c43bc6f45f35a9f5717
              name: 'CockroachDB node: SQL service latency, p99'
              type: CALCULATED
              key: 'cockroachdb.node.sql.latency.p99[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.sql.latency.bucket[*],5m,99)'
              description: 'Over the last 5 minutes, this node executed 99% of queries within this time. This time does not include network latency between the node and client.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
          graph_prototypes:
            -
              uuid: 9ce86aa502134096b5a21bf5ce3ff9e6
              name: 'CockroachDB node: SQL service latency percentile {#SINGLETON}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.sql.latency.p90[{#SINGLETON}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.sql.latency.p99[{#SINGLETON}]'
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - sql_service_latency_count
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.value !== "0"){
                          result.push({
                              '{#TYPE}': 'totals',
                              '{#SINGLETON}': ''
                          });
                  
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'total item'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: totals
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: NOT_LIKE
                  value: bucket
                  status: ENABLED
                  discover: DISCOVER
        -
          uuid: f35bfb9048ff4fd495715b601f07417f
          name: 'Transaction latency buckets discovery'
          type: DEPENDENT
          key: cockroachdb.node.transaction.buckets.discovery
          delay: '0'
          lifetime: '0'
          description: 'Discovery buckets of SQL transactions latency histogram.'
          item_prototypes:
            -
              uuid: 23668e5b4d294b88a8510cdf67c0c591
              name: 'CockroachDB node: Transaction latency bucket: {#LE}'
              type: DEPENDENT
              key: 'cockroachdb.node.transaction.latency.bucket[{#LE}]'
              delay: '0'
              history: 1h
              trends: '0'
              value_type: FLOAT
              description: 'Latency of SQL transactions.'
              preprocessing:
                -
                  type: PROMETHEUS_PATTERN
                  parameters:
                    - 'sql_txn_latency_bucket{le="{#LE}"}'
                    - value
                    - ''
              master_item:
                key: cockroachdb.node.get_metrics
              tags:
                -
                  tag: component
                  value: buckets
                -
                  tag: component
                  value: latency
          master_item:
            key: cockroachdb.node.get_metrics
          lld_macro_paths:
            -
              lld_macro: '{#LE}'
              path: $.labels.le
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - 'sql_txn_latency_bucket{le=~".*"}'
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
        -
          uuid: 65b4587edc39436294389ab8a2519e0b
          name: 'Transaction latency percentile discovery'
          type: DEPENDENT
          key: cockroachdb.node.transaction.percentile.discovery
          delay: '0'
          description: 'Discovery percentile items of SQL transactions latency histogram.'
          item_prototypes:
            -
              uuid: e3bae77cd2844fbd84508b264588ce36
              name: 'CockroachDB node: Transaction latency, p90'
              type: CALCULATED
              key: 'cockroachdb.node.transaction.latency.p90[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.transaction.latency.bucket[*],5m,90)'
              description: 'The 90th percentile of total transaction time over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
            -
              uuid: d35ac971409c4e39b47f9bd1f1dc941d
              name: 'CockroachDB node: Transaction latency, p99'
              type: CALCULATED
              key: 'cockroachdb.node.transaction.latency.p99[{#SINGLETON}]'
              history: 7d
              discover: NO_DISCOVER
              value_type: FLOAT
              units: s
              params: 'bucket_percentile(//cockroachdb.node.transaction.latency.bucket[*],5m,99)'
              description: 'The 99th percentile of total transaction time over a 5 minute period.'
              preprocessing:
                -
                  type: MULTIPLIER
                  parameters:
                    - '0.000000001'
                -
                  type: STR_REPLACE
                  parameters:
                    - '-1E-09'
                    - '0'
              tags:
                -
                  tag: component
                  value: latency
          graph_prototypes:
            -
              uuid: e2cffa927d8147c28b9d25f02019f714
              name: 'CockroachDB node: Transaction latency percentile {#SINGLETON}'
              graph_items:
                -
                  color: 1A7C11
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.transaction.latency.p90[{#SINGLETON}]'
                -
                  sortorder: '1'
                  color: 2774A4
                  item:
                    host: 'CockroachDB node by HTTP'
                    key: 'cockroachdb.node.transaction.latency.p99[{#SINGLETON}]'
          master_item:
            key: cockroachdb.node.get_metrics
          preprocessing:
            -
              type: PROMETHEUS_TO_JSON
              parameters:
                - sql_txn_latency_count
            -
              type: JAVASCRIPT
              parameters:
                - |
                  var lookup = {},
                      result = [];
                  JSON.parse(value).forEach(function (item) {
                      if (item.value !== "0"){
                          result.push({
                              '{#TYPE}': 'totals',
                              '{#SINGLETON}': ''
                          });
                  
                      }
                  });
                  return JSON.stringify(result);
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 3h
          overrides:
            -
              name: 'total item'
              step: '1'
              filter:
                conditions:
                  -
                    macro: '{#TYPE}'
                    value: totals
                    formulaid: A
              operations:
                -
                  operationobject: ITEM_PROTOTYPE
                  operator: NOT_LIKE
                  value: bucket
                  status: ENABLED
                  discover: DISCOVER
      tags:
        -
          tag: class
          value: database
        -
          tag: target
          value: 'cockroachdb node'
      macros:
        -
          macro: '{$COCKROACHDB.API.PORT}'
          value: '8080'
          description: 'The port of CockroachDB API and Prometheus endpoint'
        -
          macro: '{$COCKROACHDB.API.SCHEME}'
          value: http
          description: 'Request scheme which may be http or https'
        -
          macro: '{$COCKROACHDB.CERT.EXPIRY.WARN}'
          value: '7'
          description: 'Number of days until the certificates expire.'
        -
          macro: '{$COCKROACHDB.DISK.USED.WARN}'
          value: '85'
          description: 'The threshold of the available disk space utilization in percent'
      dashboards:
        -
          uuid: 5df63b69af3745e892c636ab8b663f0b
          name: Changefeeds
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.changefeed.latency_max
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.changefeed.sink_bytes
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Sink counts'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.changefeed.restarts
                        host: 'CockroachDB node by HTTP'
        -
          uuid: 933062eadaca471483ff2e89b3ab3a5a
          name: Distributed
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Batches'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: RPCs'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: RPC errors'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: KV transactions'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: KV transaction restarts'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '15'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: KV transactional durations percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '20'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: Node heartbeat latency percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
        -
          uuid: fda49a1847d34b84be2fe5d9d12b8444
          name: Hardware
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.cpu.util
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.memory.total
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Disk r/w rate'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Disk r/w IOPS'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '20'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.disk.iops.in_progress
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '25'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.disk.capacity.available
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '30'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Network traffic'
                        host: 'CockroachDB node by HTTP'
        -
          uuid: 468f6f12249e460dbc2b3f69a7a5bbea
          name: Overview
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: SQL statements'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: SQL service latency percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.replication.replicas
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Capacity'
                        host: 'CockroachDB node by HTTP'
        -
          uuid: ca4dc95ac9ad4b5c87814fa582ec188d
          name: Queues
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Queue processing failures'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Queue processing times'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Replication queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Replica GC queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '15'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Split queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '20'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Merge queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '20'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: GC queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '25'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Raft log queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '25'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Raft snapshot queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '30'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Consistency checker queue'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '30'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Time series maintenance queue'
                        host: 'CockroachDB node by HTTP'
        -
          uuid: 41dce007bcf54762ad321ac944a8b63e
          name: Replication
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Ranges'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.replication.replicas
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.transcactions.leases.holders
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.queries.average
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '20'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.disk.bytes.logical
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '25'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Replica quiescence'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '30'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Range operations'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '35'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Snapshots'
                        host: 'CockroachDB node by HTTP'
        -
          uuid: 0d9a3feb76ad403dac7379dbe04298f0
          name: Runtime
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.live_count
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Memory usage'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.goroutines.count
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.goroutines.runnable
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '20'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.gc.runs
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '25'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.gc.pause_time
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '30'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: CPU Time'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '35'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.clock.offset
                        host: 'CockroachDB node by HTTP'
        -
          uuid: ac89b176f2c34fc1b885ee1ed43df590
          name: 'Slow requests'
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.slow_requests.raft_proposals
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.slow_requests.rpc
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.slow_requests.lease_acquisitions
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.slow_requests.latch_acquisitions
                        host: 'CockroachDB node by HTTP'
        -
          uuid: b1086a92f1b54c45be99efd996b33457
          name: SQL
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.sessions
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.transactions.open
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.statements.active
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '5'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: SQL traffic'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '10'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: SQL statements'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '10'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.statements.errors
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.statements.contention
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '15'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.statements.flows.active
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '20'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: SQL service latency percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '25'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: KV execution latency percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '30'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Transactions'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '35'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: Transaction latency percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '40'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.memory
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '40'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.schema.changes
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '45'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sql.statements.denials
                        host: 'CockroachDB node by HTTP'
        -
          uuid: aa41ca45023c4d0eb126596f89f20f98
          name: Storage
          pages:
            -
              widgets:
                -
                  type: GRAPH_CLASSIC
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Capacity'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Live bytes'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '5'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: Log commit latency percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_PROTOTYPE
                  'y': '10'
                  width: '24'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '2'
                    -
                      type: INTEGER
                      name: columns
                      value: '1'
                    -
                      type: INTEGER
                      name: rows
                      value: '1'
                    -
                      type: GRAPH_PROTOTYPE
                      name: graphid
                      value:
                        name: 'CockroachDB node: Command commit latency percentile {#SINGLETON}'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '15'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.read_amp
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '15'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.sstables
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '20'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: File descriptors'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '20'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Compactions/flushes'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  'y': '25'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '0'
                    -
                      type: GRAPH
                      name: graphid
                      value:
                        name: 'CockroachDB node: Time series writes'
                        host: 'CockroachDB node by HTTP'
                -
                  type: GRAPH_CLASSIC
                  x: '12'
                  'y': '25'
                  width: '12'
                  height: '5'
                  fields:
                    -
                      type: INTEGER
                      name: source_type
                      value: '1'
                    -
                      type: ITEM
                      name: itemid
                      value:
                        key: cockroachdb.node.timeseries.bytes.written
                        host: 'CockroachDB node by HTTP'
      valuemaps:
        -
          uuid: 705e364c9e1b44dbb3fb50a1b27a8cdb
          name: 'Node readiness'
          mappings:
            -
              value: '0'
              newvalue: 'Not ready'
            -
              value: '1'
              newvalue: Ready
        -
          uuid: 2e7ddaadebce4b1089dcf01a91d01293
          name: 'Node state'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Up
        -
          uuid: cc5f50f62d4a4895aa64d167f56cb99c
          name: 'Service state'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Up
  triggers:
    -
      uuid: b099e323ec974823bfd84317b152a1fb
      expression: 'last(/CockroachDB node by HTTP/cockroachdb.node.sql.sessions)>0 and last(/CockroachDB node by HTTP/cockroachdb.node.sql.statements)=0'
      name: 'CockroachDB node: Node is not executing SQL'
      priority: WARNING
      description: 'Node is not executing SQL despite having connections.'
      tags:
        -
          tag: scope
          value: notice
  graphs:
    -
      uuid: 9492b0a2f9164371b49253106500f373
      name: 'CockroachDB node: Batches'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.batches
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.batches.partial
    -
      uuid: f5054466f5834071ad9e3bd50764ba29
      name: 'CockroachDB node: Capacity'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.capacity.max
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.capacity.available
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.capacity.used
    -
      uuid: 1b80bf2a68b54aa4ae0e7343a1640161
      name: 'CockroachDB node: Compactions/flushes'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.compactions
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.flushes
    -
      uuid: 583733cbb2ab44cfa12d622b5b4237d1
      name: 'CockroachDB node: Consistency checker queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.consistency_checker.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.consistency_checker.actions.pending
    -
      uuid: 4706e010045343cfa5a6d211ec6c0efd
      name: 'CockroachDB node: CPU Time'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.cpu.user_time
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.cpu.system_time
    -
      uuid: 7808c1bcbf8b4672b5d8a7c26ec97745
      name: 'CockroachDB node: Disk r/w IOPS'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.read.iops
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.write.iops
    -
      uuid: 5d194c6e35c64bfd88a801668bc5ac49
      name: 'CockroachDB node: Disk r/w rate'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.read.rate
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.write.rate
    -
      uuid: 1206fc26b6c342b9a85b4a9ea4b1f8b5
      name: 'CockroachDB node: File descriptors'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.descriptors.limit
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.descriptors.open
    -
      uuid: 2a3777415a5746f3b8742c4e28d3ecb3
      name: 'CockroachDB node: GC queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.gc.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.gc.actions.pending
    -
      uuid: 57b955c9972d44418646a6e4ad955ab8
      name: 'CockroachDB node: KV transaction restarts'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.writetooold
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.writetoooldmulti
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.txnaborted
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.asyncwritefailure
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.serializable
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.txnpush
        -
          sortorder: '6'
          color: AC8C14
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.readwithinuncertainty
        -
          sortorder: '7'
          color: 611F27
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.restarts.unknown
    -
      uuid: 919586b301534623b16d5aadef0de5a6
      name: 'CockroachDB node: KV transactions'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.commited
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.commited.fastpath
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.kv.aborted
    -
      uuid: 4cd837e243f14174a6d259b359e4f90d
      name: 'CockroachDB node: Live bytes'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.bytes.live
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.disk.bytes.system
    -
      uuid: 0bc7a266933e407c85e903cfb6b2b7c9
      name: 'CockroachDB node: Memory usage'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.memory.total
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.memory.go.allocated
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.memory.go.managed
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.memory.cgo.allocated
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.memory.cgo.managed
    -
      uuid: 68a0b27b5a11482fbbbcd91ee122b536
      name: 'CockroachDB node: Merge queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.merge.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.merge.actions.pending
    -
      uuid: 4f02255476334f79a9373c1966a1b787
      name: 'CockroachDB node: Network traffic'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.network.bytes.received
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.network.bytes.sent
    -
      uuid: e6763dafd3c54e0787eae612921e35f8
      name: 'CockroachDB node: Queue processing failures'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.consistency
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.gc
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.raftlog
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.raftsnapshot
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.gc_replica
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.replicate
        -
          sortorder: '6'
          color: AC8C14
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.split
        -
          sortorder: '7'
          color: 611F27
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_failures.tsmaintenance
    -
      uuid: 9b5f7013ce4247f2a179954f1980748e
      name: 'CockroachDB node: Queue processing times'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.gc
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.gc_replica
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.replicate
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.split
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.consistency
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.raftlog
        -
          sortorder: '6'
          color: AC8C14
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.raftsnapshot
        -
          sortorder: '7'
          color: 611F27
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.processing_time.tsmaintenance
    -
      uuid: 2ffa7414ccfe4c41a9bdae48c927df51
      name: 'CockroachDB node: Raft log queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.raftlog.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.raftlog.actions.pending
    -
      uuid: 0e9d0cb3d0f14bb38f4dca3d6ffb16d3
      name: 'CockroachDB node: Raft snapshot queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.raftsnapshot.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.raftsnapshot.actions.pending
    -
      uuid: d6acd0f5c6fe4cca9c08b373f0a3355f
      name: 'CockroachDB node: Range operations'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.splits
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.merges
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.additions
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.removals
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.leases.transfers
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.leases.transfers_rebalancing
        -
          sortorder: '6'
          color: AC8C14
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.rebalances
    -
      uuid: 0c4977666e5e4af1b5e1f840284fe7d0
      name: 'CockroachDB node: Ranges'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.raft.leaders
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.leases.holders
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.leases.leaders_without_lease
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.unavaliable
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.underreplicated
        -
          sortorder: '6'
          color: AC8C14
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.ranges.overreplicated
    -
      uuid: c1f62f2ddbda49bc94a652adcdb60b23
      name: 'CockroachDB node: Replica GC queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.gc_queue.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.gc_queue.actions.pending
    -
      uuid: 811d38ab09494628ae6ac36aa54c1795
      name: 'CockroachDB node: Replica quiescence'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.replicas
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.replicas.quiesced
    -
      uuid: d80bca97f4454f2c88bc562e5a821f2c
      name: 'CockroachDB node: Replication queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.pending
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.additions
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.removals
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.dead_removals
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.learner_removals
        -
          sortorder: '6'
          color: AC8C14
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.rebalanced
        -
          sortorder: '7'
          color: 611F27
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.leases_transfered
        -
          sortorder: '8'
          color: F230E0
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.queue.replicas.purgatory
    -
      uuid: b7975ae775fe4326bb33a0699344c627
      name: 'CockroachDB node: RPC errors'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.rpc.errors
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.transcactions.leases.notleaseholder
    -
      uuid: d965f37539304834a419b18a99da81f7
      name: 'CockroachDB node: RPCs'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.rpc.sent
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.rpc.sent.local
    -
      uuid: aa948bcc4da14af38376a39bd2eab8db
      name: 'CockroachDB node: Sink counts'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.changefeed.emmited_messages
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.changefeed.flushes
    -
      uuid: 335098639a77452982c6e56d7d773cf6
      name: 'CockroachDB node: Snapshots'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.snapshots.generated
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.snapshots.voters
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.snapshots.initial
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.snapshots.nonvoters
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.replication.replicas.reserved
    -
      uuid: ac58cf773efc4e95b2a13e75c46436da
      name: 'CockroachDB node: Split queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.split.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.queue.split.actions.pending
    -
      uuid: 76bfd0743c63481db9793e3c55181bc9
      name: 'CockroachDB node: SQL statements'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.statements.update
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.statements.select
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.statements.insert
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.statements.delete
    -
      uuid: b6f9d3cda4a5451da3d90107960e91b7
      name: 'CockroachDB node: SQL traffic'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.bytes.received
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.bytes.sent
    -
      uuid: 7b3e830d830f43209075c600a6205a5f
      name: 'CockroachDB node: Time series maintenance queue'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.tsmaintenance.queue.actions.successful
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.tsmaintenance.queue.actions.pending
    -
      uuid: 0c313bd2041942649c1f1c441e812388
      name: 'CockroachDB node: Time series writes'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.samples.written
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.samples.errors
    -
      uuid: 53151cd0e61d487485f8d201c6881d59
      name: 'CockroachDB node: Transactions'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.transactions.initiated
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.transactions.committed
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.transactions.rollbacks
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'CockroachDB node by HTTP'
            key: cockroachdb.node.sql.transactions.aborted
